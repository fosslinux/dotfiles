2018-11-18 03:44:44	-->	fosslinux (fosslinux@tilde-fhah4o.tilde.team) has joined #6502gen
2018-11-18 03:44:44	--	Topic for #6502gen is "A 6502 high level assembler macro/repeat system. https://tildegit.org/khuxkm/6502gen"
2018-11-18 03:44:44	--	Topic set by khuxkm|lounge (khuxkm@oper.tilde.chat) on Sat, 17 Nov 2018 20:42:49
2018-11-18 03:44:44	--	Channel #6502gen: 5 nicks (2 ops, 0 halfops, 0 voices, 3 normals)
2018-11-18 03:44:46	--	Channel created on Sat, 17 Nov 2018 19:17:30
2018-11-18 03:44:53	fosslinux	what's this?
2018-11-18 03:45:21	ben	see topic
2018-11-18 03:46:07	fosslinux	nice
2018-11-18 03:48:39	~khuxkm	it's eventually going to handle everything up to (and, configurably, including) assembling
2018-11-18 03:48:50	~khuxkm	right now we're trying to fix the gitea webhook bot
2018-11-18 03:49:53	-->	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has joined #6502gen
2018-11-18 03:49:57	<--	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has quit (Connection closed)
2018-11-18 03:50:37	-->	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has joined #6502gen
2018-11-18 03:50:45	giteabot	test pushed 1 commit. (test)
2018-11-18 03:50:56	~khuxkm	hmm
2018-11-18 03:51:00	~khuxkm	so that one went through
2018-11-18 03:51:03	~khuxkm	and this one has not
2018-11-18 03:51:13	~khuxkm	it hasn't even made it to the middleware parser
2018-11-18 03:51:49	giteabot	test pushed 1 commit. (test)
2018-11-18 03:54:02	~khuxkm	...
2018-11-18 03:54:03	~khuxkm	ok
2018-11-18 03:54:11	giteabot	test pushed 1 commit. (test)
2018-11-18 03:54:25	giteabot	test pushed 1 commit. (test)
2018-11-18 03:54:37	~khuxkm	hmmst
2018-11-18 03:55:01	~khuxkm	...I think I know where the problem lies but I'll wait
2018-11-18 03:55:18	~khuxkm	actually nvm
2018-11-18 03:55:28	giteabot	test pushed 1 commit. (test)
2018-11-18 03:55:35	~khuxkm	hmmst
2018-11-18 03:55:42	~khuxkm	so it takes multiple seconds
2018-11-18 03:55:52	giteabot	test pushed 1 commit. (test)
2018-11-18 03:55:54	giteabot	test pushed 1 commit. (test)
2018-11-18 03:56:03	~khuxkm	alright here we go
2018-11-18 03:56:08	~khuxkm	it IS pretty irregular
2018-11-18 03:56:17	~khuxkm	now I got it to hang again
2018-11-18 03:56:29	~khuxkm	the weird thing is, it does go, it just takes many many seconds
2018-11-18 03:56:39	~khuxkm	ben: ^
2018-11-18 03:56:50	ben	hmmm
2018-11-18 03:56:52	ben	i have no idea
2018-11-18 03:56:55	giteabot	test pushed 1 commit. (test)
2018-11-18 03:57:08	~khuxkm	so I did `date && curl blahblahblah blah && date`
2018-11-18 03:57:20	~khuxkm	it takes a full 60 seconds
2018-11-18 03:57:25	ben	weird
2018-11-18 03:57:28	~khuxkm	khuxkm@tilde:~$ date && curl -XPOST -H 'X-GitHub-Event: push' -H "Content-type: application/json" -d '{"secret":"asdf","pusher":{"full_name":"test"},"commits":[{"message":"test"}]}' 'https://khuxkm.nand.sh/webhook/' && date
2018-11-18 03:57:32	~khuxkm	Sat Nov 17 22:55:55 EST 2018
2018-11-18 03:57:34	~khuxkm	Sat Nov 17 22:56:55 EST 2018
2018-11-18 03:57:47	ben	why not just use `time`
2018-11-18 03:57:57	<--	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has quit (Connection closed)
2018-11-18 03:58:44	~khuxkm	how would I use time in this scenario
2018-11-18 03:58:49	~khuxkm	(the command)
2018-11-18 03:58:52	ben	time curl blag blag
2018-11-18 03:59:26	ben	so where is the php webhook code?
2018-11-18 04:00:54	-->	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has joined #6502gen
2018-11-18 04:01:02	~khuxkm	it's node.js
2018-11-18 04:01:05	~khuxkm	all of it
2018-11-18 04:01:16	giteabot	test pushed 1 commit. (test)
2018-11-18 04:01:50	~khuxkm	ben: see above
2018-11-18 04:02:10	ben	oh and that's on your lxd container?
2018-11-18 04:02:11	ben	ok
2018-11-18 04:02:16	~khuxkm	yeah
2018-11-18 04:02:18	giteabot	test pushed 1 commit. (test)
2018-11-18 04:02:34	~khuxkm	hmmst
2018-11-18 04:02:34	~khuxkm	real    1m0.024s
2018-11-18 04:02:34	~khuxkm	user    0m0.006s
2018-11-18 04:02:35	~khuxkm	sys     0m0.011s
2018-11-18 04:02:42	ben	something's hanging
2018-11-18 04:03:51	~khuxkm|lounge	i mean, i knew that much
2018-11-18 04:03:56	ben	try strace
2018-11-18 04:04:30	giteabot	test pushed 1 commit. (test)
2018-11-18 04:04:36	giteabot	test pushed 1 commit. (test)
2018-11-18 04:05:39	giteabot	test pushed 1 commit. (test)
2018-11-18 04:05:40	~khuxkm	it hangs on poll([{fd=3, events=POLLIN}], 1, 1000) = 0 for a while
2018-11-18 04:06:06	~khuxkm	followed by a few rt_sigaction(SIGPIPE, {sa_handler=SIG_IGN, sa_mask=[PIPE], sa_flags=SA_RESTORER|SA_RESTART, sa_restorer=0x7f64dc18c890}, NULL, 8) = 0
2018-11-18 04:06:29	giteabot	test pushed 1 commit. (test)
2018-11-18 04:06:36	giteabot	test pushed 1 commit. (test)
2018-11-18 04:06:47	~khuxkm	hmmst
2018-11-18 04:06:55	ben	huh
2018-11-18 04:07:04	~khuxkm	so give me a sec and I should have a full strace log for you of a hung process
2018-11-18 04:07:11	~khuxkm	(remember it takes 1min realtime)
2018-11-18 04:07:39	giteabot	test pushed 1 commit. (test)
2018-11-18 04:09:41	~khuxkm|lounge	https://ttm.sh/iW.txt
2018-11-18 04:09:43	~khuxkm|lounge	ben: ^
2018-11-18 04:10:37	ben	uuf forgot how verbose strace is
2018-11-18 04:10:57	ben	the last time i encountered a delay like this was when ipv6 wasn't enabled in nginx
2018-11-18 04:11:14	ben	make sure you have listen [::]:80; 
2018-11-18 04:11:20	ben	and listen [::]:443 ssl; 
2018-11-18 04:11:23	ben	where appropriate
2018-11-18 04:14:10	~khuxkm	would that be on the ~team side or the lxd side
2018-11-18 04:14:25	ben	lxd
2018-11-18 04:14:40	ben	~team side is passing ipv6 on afaik
2018-11-18 04:17:15	~khuxkm	it already is listening on ipv6
2018-11-18 04:17:18	~khuxkm	on both ~team and lxd
2018-11-18 04:17:30	~khuxkm	lxd config: https://ttm.sh/iB.txt
2018-11-18 04:18:08	~khuxkm	ben: ^
2018-11-18 04:18:39	giteabot	test pushed 1 commit. (test)
2018-11-18 04:18:43	~khuxkm	hmm
2018-11-18 04:18:45	giteabot	test pushed 1 commit. (test)
2018-11-18 04:18:46	giteabot	test pushed 1 commit. (test)
2018-11-18 04:18:47	giteabot	test pushed 1 commit. (test)
2018-11-18 04:18:48	giteabot	test pushed 1 commit. (test)
2018-11-18 04:18:49	giteabot	test pushed 1 commit. (test)
2018-11-18 04:18:49	giteabot	test pushed 1 commit. (test)
2018-11-18 04:18:50	giteabot	test pushed 1 commit. (test)
2018-11-18 04:18:50	giteabot	test pushed 1 commit. (test)
2018-11-18 04:18:51	giteabot	test pushed 1 commit. (test)
2018-11-18 04:18:51	giteabot	test pushed 1 commit. (test)
2018-11-18 04:18:53	giteabot	test pushed 1 commit. (test)
2018-11-18 04:19:08	~khuxkm	ben: so hitting khuxkm.lxd directly with it works just fine
2018-11-18 04:19:13	~khuxkm	it hasn't hung once
2018-11-18 04:19:14	giteabot	test pushed 1 commit. (test)
2018-11-18 04:19:15	giteabot	test pushed 1 commit. (test)
2018-11-18 04:19:16	giteabot	test pushed 1 commit. (test)
2018-11-18 04:19:17	giteabot	test pushed 1 commit. (test)
2018-11-18 04:19:18	giteabot	test pushed 1 commit. (test)
2018-11-18 04:19:18	giteabot	test pushed 1 commit. (test)
2018-11-18 04:19:18	giteabot	test pushed 1 commit. (test)
2018-11-18 04:19:19	giteabot	test pushed 1 commit. (test)
2018-11-18 04:19:19	giteabot	test pushed 1 commit. (test)
2018-11-18 04:19:19	giteabot	test pushed 1 commit. (test)
2018-11-18 04:19:20	giteabot	test pushed 1 commit. (test)
2018-11-18 04:19:20	giteabot	test pushed 1 commit. (test)
2018-11-18 04:19:20	giteabot	test pushed 1 commit. (test)
2018-11-18 04:19:20	giteabot	test pushed 1 commit. (test)
2018-11-18 04:19:21	giteabot	test pushed 1 commit. (test)
2018-11-18 04:19:21	giteabot	test pushed 1 commit. (test)
2018-11-18 04:19:21	giteabot	test pushed 1 commit. (test)
2018-11-18 04:19:22	giteabot	test pushed 1 commit. (test)
2018-11-18 04:19:23	giteabot	test pushed 1 commit. (test)
2018-11-18 04:19:24	giteabot	test pushed 1 commit. (test)
2018-11-18 04:19:25	giteabot	test pushed 1 commit. (test)
2018-11-18 04:19:26	giteabot	test pushed 1 commit. (test)
2018-11-18 04:19:27	giteabot	test pushed 1 commit. (test)
2018-11-18 04:19:28	giteabot	test pushed 1 commit. (test)
2018-11-18 04:20:12	ben	huh
2018-11-18 04:21:24	~khuxkm|lounge	this is the weirdest shit I've ever seen
2018-11-18 04:21:43	~khuxkm|lounge	can you maybe check over the ~team config and make sure I haven't missed anything there?
2018-11-18 04:21:47	ben	that's what i was thinking when i had that with the toot thing
2018-11-18 04:22:40	ben	i pulled all the listen stuff into /etc/nginx/snippets/listen{,-ssl}.conf
2018-11-18 04:23:00	ben	and they have the proper ip and port configs
2018-11-18 04:23:03	~khuxkm|lounge	and I checked those and they seem to be correct
2018-11-18 04:23:30	ben	maybe it needs some more headers passed on before proxy_pass?
2018-11-18 04:24:11	~khuxkm	it shouldn't
2018-11-18 04:24:26	ben	plenty of stuff needs more headers
2018-11-18 04:24:27	ben	hmm
2018-11-18 04:24:28	~khuxkm	about ready to just bust open express and log all the things there
2018-11-18 04:24:49	ben	i mean
2018-11-18 04:27:49	<--	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has quit (Connection closed)
2018-11-18 04:27:56	-->	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has joined #6502gen
2018-11-18 04:28:25	giteabot	test pushed 1 commit. (test)
2018-11-18 04:28:26	giteabot	test pushed 1 commit. (test)
2018-11-18 04:29:10	~khuxkm	hmmst
2018-11-18 04:29:14	~khuxkm	so I turned on debug
2018-11-18 04:29:27	giteabot	test pushed 1 commit. (test)
2018-11-18 04:29:39	<--	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has quit (Connection closed)
2018-11-18 04:29:42	-->	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has joined #6502gen
2018-11-18 04:29:47	giteabot	test pushed 1 commit. (test)
2018-11-18 04:29:48	giteabot	test pushed 1 commit. (test)
2018-11-18 04:30:12	<--	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has quit (Connection closed)
2018-11-18 04:30:57	-->	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has joined #6502gen
2018-11-18 04:31:04	giteabot	test pushed 1 commit. (test)
2018-11-18 04:32:05	giteabot	test pushed 1 commit. (test)
2018-11-18 04:33:18	~khuxkm	ben: this is the logging from request hits server to request hits endpoint 
2018-11-18 04:33:20	~khuxkm	https://ttm.sh/iI.txt
2018-11-18 04:34:05	ben	looks pretty standard
2018-11-18 04:34:29	~khuxkm	yeah
2018-11-18 04:34:40	~khuxkm	that would align with a direct hit working every time
2018-11-18 04:34:56	~khuxkm	so it has to be something up with the config on the ~team side
2018-11-18 04:35:00	~khuxkm	but I don't know what
2018-11-18 04:36:50	~khuxkm|lounge	I could try using curl -v
2018-11-18 04:37:29	giteabot	test pushed 1 commit. (test)
2018-11-18 04:37:37	giteabot	test pushed 1 commit. (test)
2018-11-18 04:37:43	ben	worth a try
2018-11-18 04:37:46	ben	i'm at a loss too
2018-11-18 04:38:48	giteabot	test pushed 1 commit. (test)
2018-11-18 04:39:49	giteabot	test pushed 1 commit. (test)
2018-11-18 04:41:22	~khuxkm	ben: https://ttm.sh/in.txt
2018-11-18 04:41:52	~khuxkm|lounge	so it IS an IPv6 issue
2018-11-18 04:43:22	~khuxkm|lounge	but it's a confusing one
2018-11-18 04:43:39	ben	turn on http2 in your nginx
2018-11-18 04:43:52	~khuxkm|lounge	why is http2 needed?
2018-11-18 04:43:55	ben	< HTTP/2 200 
2018-11-18 04:44:57	~khuxkm	so how do I do that?
2018-11-18 04:45:08	ben	listen [::]:80 http2;
2018-11-18 04:45:16	ben	listen 80 http2;
2018-11-18 04:46:05	~khuxkm	still hangs sometimes
2018-11-18 04:46:18	~khuxkm	also it has now stopped posting in chat apparently?
2018-11-18 04:46:37	~khuxkm	ben: ^
2018-11-18 04:46:51	ben	hm
2018-11-18 04:46:57	ben	check if express has an http2 opiton
2018-11-18 04:47:04	ben	i can turn it off in the ~team configs
2018-11-18 04:47:09	ben	but it might break other things
2018-11-18 04:51:53	~khuxkm|lounge	what might break?
2018-11-18 04:52:10	ben	mastodon, a couple other things
2018-11-18 04:52:14	~khuxkm|lounge	also, it seems I have to choose HTTP2 or no HTTP2
2018-11-18 04:52:19	~khuxkm|lounge	why does masto depend on http2?
2018-11-18 04:52:23	ben	idk
2018-11-18 04:52:31	ben	oh wait
2018-11-18 04:52:40	ben	i can just not use the listen snippet
2018-11-18 04:52:42	ben	one sec
2018-11-18 04:53:33	ben	ok try now
2018-11-18 04:54:00	~khuxkm	it's hung
2018-11-18 04:54:11	ben	is it giving you http2?
2018-11-18 04:54:17	~khuxkm	IDK
2018-11-18 04:54:26	~khuxkm	I'll tell you when it completes
2018-11-18 04:54:32	~khuxkm	you reloaded nginx right?
2018-11-18 04:54:35	ben	yup
2018-11-18 04:55:24	ben	rip: https://stackoverflow.com/a/39466948
2018-11-18 04:55:45	~khuxkm	yep it gave me http2
2018-11-18 04:55:46	ben	23:52 <~khuxkm|lounge> also, it seems I have to choose HTTP2 or no HTTP2
2018-11-18 04:55:51	ben	can you try it with HTTP2
2018-11-18 04:56:49	<--	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has quit (Connection closed)
2018-11-18 04:58:30	~khuxkm|lounge	so the problem is that it wants me to use HTTPS (read: HTTPS is *required* for HTTP2)
2018-11-18 04:58:35	~khuxkm|lounge	s/wants/needs/
2018-11-18 04:58:39	-->	sedbot (sedbot@localhost) has joined #6502gen
2018-11-18 04:58:48	ben	oh i see
2018-11-18 04:59:00	ben	certbot time
2018-11-18 04:59:30	ben	or i can try disabling it and see what breaks?
2018-11-18 05:00:06	-->	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has joined #6502gen
2018-11-18 05:02:08	<--	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has quit (Connection closed)
2018-11-18 05:02:31	-->	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has joined #6502gen
2018-11-18 05:06:54	~khuxkm|lounge	ben: maybe try disabling it and see what happens to masto?
2018-11-18 05:07:09	~khuxkm|lounge	I mean, I can't get it to work with HTTP/2 on my end
2018-11-18 05:07:41	ben	ok disabled it
2018-11-18 05:07:44	ben	try no
2018-11-18 05:07:54	ben	1.1 now
2018-11-18 05:13:45	giteabot	test pushed 1 commit. (test)
2018-11-18 05:15:32	~khuxkm	...
2018-11-18 05:16:28	~khuxkm	so http2 isn't the problem
2018-11-18 05:16:34	~khuxkm	(it still hangs regardless)
2018-11-18 05:16:41	ben	wtf
2018-11-18 05:17:10	giteabot	test pushed 1 commit. (test)
2018-11-18 05:21:13	~khuxkm|lounge	ben: do me a favor, please, and remove the HTTP -> HTTPS redirect for khuxkm.nand.sh real quick
2018-11-18 05:21:18	~khuxkm|lounge	I want to try something
2018-11-18 05:21:24	ben	ok
2018-11-18 05:21:58	ben	try no
2018-11-18 05:22:01	ben	s/$/w
2018-11-18 05:22:01	sedbot	<ben> try now
2018-11-18 05:23:01	~khuxkm	...wtf
2018-11-18 05:23:19	~khuxkm	so it still hangs when going directly there
2018-11-18 05:23:35	~khuxkm	so in review
2018-11-18 05:23:36	giteabot	test pushed 1 commit. (test)
2018-11-18 05:24:01	~khuxkm	khuxkm.nand.sh --hang?--> khuxkm.lxd --nope!--> webhookbot
2018-11-18 05:24:10	~khuxkm	ben: ^
2018-11-18 05:26:55	ben	bizarre
2018-11-18 05:31:00	~khuxkm	so tildegit runs on this box, right?
2018-11-18 05:31:05	<--	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has quit (Connection closed)
2018-11-18 05:32:48	~khuxkm	ben: ^
2018-11-18 05:32:55	ben	yup
2018-11-18 05:33:19	~khuxkm	so could I just use http://khuxkm.lxd/webhook/ for it?
2018-11-18 05:33:44	~khuxkm	(as in, is the lxd resolver also going to help gitea find my container?)
2018-11-18 05:33:53	ben	yeah gitea would be able to find it
2018-11-18 05:40:08	-->	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has joined #6502gen
2018-11-18 05:41:17	<--	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has quit (Connection closed)
2018-11-18 05:41:29	-->	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has joined #6502gen
2018-11-18 05:43:59	giteabot	Robert Miles pushed 1 commit. (Begin work on macro support)
2018-11-18 05:44:31	~khuxkm|lounge	ooh yay it worls
2018-11-18 05:44:35	~khuxkm|lounge	s/ls/ks/
2018-11-18 05:44:35	sedbot	<khuxkm|lounge> ooh yay it works
2018-11-18 05:44:41	ben	frik yea
2018-11-18 05:46:01	slipyx	whos robert
2018-11-18 05:46:15	~khuxkm|lounge	me
2018-11-18 06:10:16	<--	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has quit (Connection closed)
2018-11-18 06:11:46	-->	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has joined #6502gen
2018-11-18 06:26:27	giteabot	XXXXXXXXXXX pushed undefined1 commit to master. (Begin work on macro support)
2018-11-18 06:26:36	~khuxkm	hmm
2018-11-18 06:40:15	<--	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has quit (Connection closed)
2018-11-18 06:40:32	-->	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has joined #6502gen
2018-11-18 06:40:51	giteabot	XXXXXXXXXXX pushed undefined1 commit to master. (Begin work on macro support)
2018-11-18 06:40:57	~khuxkm	wtf
2018-11-18 06:41:06	~khuxkm	(I'm trying to add color)
2018-11-18 06:48:24	ben	it's \x03<colornumber> iirc
2018-11-18 06:48:59	<--	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has quit (Connection closed)
2018-11-18 06:49:07	-->	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has joined #6502gen
2018-11-18 06:49:28	~khuxkm	no I was trying to use the lib methods
2018-11-18 06:49:38	giteabot	XXXXXXXXXXX pushed 1 commit to master. (Begin work on macro support)
2018-11-18 06:49:44	~khuxkm	there we go
2018-11-18 06:50:05	~khuxkm	maybe I should make it put the hash on one commit
2018-11-18 06:50:21	ben	oh ok there it is
2018-11-18 06:52:41	<--	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has quit (Connection closed)
2018-11-18 06:52:58	-->	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has joined #6502gen
2018-11-18 06:53:07	~khuxkm	last restart for a while I promise
2018-11-18 06:53:23	giteabot	XXXXXXXXXXX pushed 1 commit to master. (Begin work on macro support)
2018-11-18 06:53:27	~khuxkm	woot!
2018-11-18 06:53:58	ben	no problems :)
2018-11-18 06:54:30	ben	so could we set it up to ping #meta for all stuff in the tildeverse org? and #team for all stuff in the team org?
2018-11-18 06:55:09	~khuxkm	see the README
2018-11-18 06:55:26	~khuxkm	https://github.com/MineRobber9000/webhookbot
2018-11-18 06:55:48	ben	owo ok
2018-11-18 06:56:19	ben	if you can set the webhook url, we can pass it as a query param
2018-11-18 06:56:30	ben	ie ?channel=meta
2018-11-18 06:59:39	~khuxkm|lounge	I was thinking like "#channel": "owner/repo"
2018-11-18 06:59:45	~khuxkm|lounge	in the config
2018-11-18 07:00:50	ben	webhooks aren't only per-repo
2018-11-18 07:01:25	ben	https://tildegit.org/org/tildeverse/settings/hooks
2018-11-18 07:01:27	ben	etc
2018-11-18 07:02:01	~khuxkm|lounge	hooks for all repos =/= hooks for org
2018-11-18 07:02:21	~khuxkm|lounge	not to mention IIRC GitHub doesn't/didn't have anything like that
2018-11-18 07:02:22	ben	it can be
2018-11-18 07:02:37	~khuxkm|lounge	I want this thing to have compat
2018-11-18 07:03:16	~khuxkm|lounge	the best I'll do is add a configuration var to allow it
2018-11-18 07:04:38	ben	ok
2018-11-18 07:04:53	ben	query param would be just as easy imo
2018-11-18 07:06:22	ben	https://helga.readthedocs.io/en/latest/webhooks.html 
2018-11-18 07:07:51	~khuxkm|lounge	that's not what I'm using though >:(
2018-11-18 07:09:20	~khuxkm	not to mention that doing it properly would require a refactor
2018-11-18 07:10:32	ben	i know, just figured you could have a look at it and get some ideas
2018-11-18 07:11:32	~khuxkm	(passive-aggressive) yes, link me some docs of a Python lib so I can get ideas for how to write my Node project (/passive-aggressive)
2018-11-18 07:11:35	~khuxkm	:P
2018-11-18 07:16:27	ben	heh sorry, didn't realiz it was py
2018-11-18 07:28:19	<--	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has quit (Connection closed)
2018-11-18 07:32:16	-->	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has joined #6502gen
2018-11-18 07:32:30	<--	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has quit (Connection closed)
2018-11-18 07:32:58	-->	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has joined #6502gen
2018-11-18 07:33:07	<--	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has quit (Connection closed)
2018-11-18 07:33:34	-->	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has joined #6502gen
2018-11-18 07:33:46	<--	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has quit (Connection closed)
2018-11-18 07:35:44	-->	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has joined #6502gen
2018-11-18 07:35:47	giteabot	[undefined] XXXXXXXXXXX pushed 1 commit to master. (Begin work on macro support)
2018-11-18 07:36:01	<--	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has quit (Connection closed)
2018-11-18 07:37:21	-->	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has joined #6502gen
2018-11-18 07:37:39	giteabot	[khuxkm/6502gen] XXXXXXXXXXX pushed 1 commit to master. (Begin work on macro support)
2018-11-18 07:39:34	<--	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has quit (Connection closed)
2018-11-18 07:44:07	~khuxkm|lounge	ben: so the repo-channel thing works
2018-11-18 07:44:31	~khuxkm|lounge	basically, it checks the fullname of the repo with the entry in the config.json
2018-11-18 07:45:08	~khuxkm|lounge	https://github.com/MineRobber9000/webhookbot/tree/multi-repo
2018-11-18 07:45:51	ben	oh ok nice
2018-11-18 07:51:12	~khuxkm|lounge	https://github.com/MineRobber9000/webhookbot/pull/3
2018-11-18 07:54:33	~khuxkm	...and it's merged!
2018-11-18 07:54:52	~khuxkm	now its 2:54 AM and I'm tired
2018-11-18 07:55:25	~khuxkm	so "#meta": "tildeverse/(.*)"
2018-11-18 07:56:01	~khuxkm	+  "#team": "team/(.*)"
2018-11-18 07:56:03	~khuxkm	?
2018-11-18 07:56:08	~khuxkm	ben: ^
2018-11-18 07:56:10	~khuxkm	O
2018-11-18 07:56:18	~khuxkm	s/O/...
2018-11-18 07:56:18	sedbot	<khuxkm> ...
2018-11-18 07:56:31	~khuxkm	I'm sick and tired and I wanna get this done before I sleep
2018-11-18 07:56:32	~khuxkm	:P
2018-11-18 07:57:29	-->	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has joined #6502gen
2018-11-18 08:06:14	~khuxkm|lounge	ben: https://github.com/MineRobber9000/webhookbot/pull/4 future goals
2018-11-18 08:06:41	~khuxkm|lounge	for now, team/* is mapped to #team and tildeverse/* is mapped to #meta
2018-11-18 08:08:08	ben	owo nice :D
2018-11-18 08:08:12	ben	it is late
2018-11-18 08:13:07	fosslinux	it is late
2018-11-18 21:19:56	<--	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has quit (Connection closed)
2018-11-18 21:20:43	-->	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has joined #6502gen
2018-11-18 21:22:28	~khuxkm	!watching
2018-11-18 21:22:29	giteabot	khuxkm: This channel is watching khuxkm/(6502gen).
2018-11-18 21:22:39	~khuxkm	ben: PR 4 seems to be working
2018-11-18 21:22:52	~khuxkm	now to add a botlist command plugin and kick the bot off again :P
2018-11-18 21:23:19	ben	uwu nice :D
2018-11-18 21:23:35	~khuxkm	do you think it's good?
2018-11-18 21:23:53	ben	yeah it's dope!
2018-11-18 21:23:53	~khuxkm	I personally think I should change up the watching command to remove the regex parts
2018-11-18 21:24:15	ben	you could replace it with a check for a slash?
2018-11-18 21:24:20	ben	slash present => repo
2018-11-18 21:24:24	ben	no slash => org?
2018-11-18 21:24:42	ben	unless it does something more than that
2018-11-18 21:25:27	~khuxkm|lounge	no, I mean like "This channel is watching team/*" as opposed to "This channel is watching team/(.*)"
2018-11-18 21:25:31	~khuxkm|lounge	ben: ^
2018-11-18 21:26:07	~khuxkm|lounge	https://github.com/MineRobber9000/webhookbot/blob/master/util.js#L27-L47
2018-11-18 21:26:16	~khuxkm|lounge	that's the code that determines what channel to send to
2018-11-18 21:26:16	ben	oh ok
2018-11-18 21:26:49	ben	ah i see
2018-11-18 21:29:50	~khuxkm|lounge	should be a simple replace: `config.channels[channel].replace(/[(.)]/g,"")`
2018-11-18 21:30:40	<--	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has quit (Connection closed)
2018-11-18 21:30:43	-->	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has joined #6502gen
2018-11-18 21:30:49	~khuxkm	!watching
2018-11-18 21:30:49	giteabot	khuxkm: This channel is watching khuxkm/6502gen.
2018-11-18 21:31:11	~khuxkm	ben: I think its good for merge!
2018-11-18 21:31:14	ben	does it respond to invites?
2018-11-18 21:34:13	<--	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has quit (Connection closed)
2018-11-18 21:34:15	-->	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has joined #6502gen
2018-11-18 21:34:18	~khuxkm	!botlist
2018-11-18 21:34:21	~khuxkm	...
2018-11-18 21:34:24	~khuxkm	hmmst
2018-11-18 21:34:27	~khuxkm	ben: no
2018-11-18 21:34:44	~khuxkm	what's the point of allowing it into a channel if it isn't watching anything in that channel
2018-11-18 21:37:21	ben	oh i was thinking i could add a watch with a command
2018-11-18 21:41:30	~khuxkm	not the way it's set up right now
2018-11-18 21:41:50	~khuxkm	maybe that'll be further down on the roadmap: live config editing (through admin command?)
2018-11-18 21:45:05	~khuxkm	ben: so would you say that #4 is good for merge?
2018-11-18 21:46:27	ben	yeah might as well
2018-11-18 21:46:46	~khuxkm	now I can finally get some work done on 6502gen
2018-11-18 21:46:56	~khuxkm	(you know, the whole point of this channel? :P
2018-11-18 21:47:21	ben	lol
2018-11-18 21:47:23	ben	nice
2018-11-19 01:46:08	<--	slipyx (slip@tilde-l4taic.bc.googleusercontent.com) has left #6502gen ("WeeChat 2.2")
2018-11-20 21:21:54	<--	khuxkm|lounge (khuxkm@oper.tilde.chat) has quit (Connection closed)
2018-11-20 21:22:05	-->	khuxkm|lounge (khuxkm@tilde.team) has joined #6502gen
2018-11-21 02:26:32	--	irc: disconnected from server
2018-11-21 02:27:12	-->	fosslinux (fosslinux@fhah4o.tilde.team) has joined #6502gen
2018-11-21 02:27:12	--	Topic for #6502gen is "A 6502 high level assembler macro/repeat system. https://tildegit.org/khuxkm/6502gen"
2018-11-21 02:27:12	--	Topic set by khuxkm|lounge (khuxkm@oper.tilde.chat) on Sat, 17 Nov 2018 20:42:49
2018-11-21 02:27:12	--	Channel #6502gen: 6 nicks (1 op, 0 halfops, 0 voices, 5 normals)
2018-11-21 02:27:42	--	Channel created on Sat, 17 Nov 2018 19:17:30
2018-11-21 03:39:40	--	irc: disconnected from server
2018-11-21 03:40:20	-->	fosslinux1 (fosslinux@fhah4o.tilde.team) has joined #6502gen
2018-11-21 03:40:20	--	Topic for #6502gen is "A 6502 high level assembler macro/repeat system. https://tildegit.org/khuxkm/6502gen"
2018-11-21 03:40:20	--	Topic set by khuxkm|lounge (khuxkm@oper.tilde.chat) on Sat, 17 Nov 2018 20:42:49
2018-11-21 03:40:20	--	Channel #6502gen: 7 nicks (1 op, 0 halfops, 0 voices, 6 normals)
2018-11-21 03:40:50	--	Channel created on Sat, 17 Nov 2018 19:17:30
2018-11-21 03:40:52	<--	fosslinux (fosslinux@fhah4o.tilde.team) has quit (Connection closed)
2018-11-21 04:19:27	--	You are now known as fosslinux
2018-11-21 15:18:34	<--	khuxkm|lounge (khuxkm@tilde.team) has quit (Changing host)
2018-11-21 15:18:34	-->	khuxkm|lounge (khuxkm@sudoers.tilde.team) has joined #6502gen
2018-11-21 15:18:34	--	Mode #6502gen [+qo khuxkm|lounge khuxkm|lounge] by ChanServ
2018-11-24 09:08:04	<--	giteabot (nodebot@tilde-ebi.ek5.99.10.IP) has quit (Connection closed)
2018-11-24 09:08:07	-->	giteabot (nodebot@ebi.ek5.99.10.IP) has joined #6502gen
2018-11-24 09:08:32	<--	giteabot (nodebot@ebi.ek5.99.10.IP) has quit (Connection closed)
2018-11-24 09:08:53	-->	giteabot (nodebot@ebi.ek5.99.10.IP) has joined #6502gen
2018-11-24 09:08:55	<--	giteabot (nodebot@ebi.ek5.99.10.IP) has quit (Connection closed)
2018-11-24 09:09:09	-->	giteabot (nodebot@ebi.ek5.99.10.IP) has joined #6502gen
2018-11-24 09:09:11	<--	giteabot (nodebot@ebi.ek5.99.10.IP) has quit (Connection closed)
2018-11-24 09:09:38	-->	giteabot (nodebot@ebi.ek5.99.10.IP) has joined #6502gen
2018-11-24 09:09:44	<--	giteabot (nodebot@ebi.ek5.99.10.IP) has quit (Connection closed)
2018-11-24 09:12:15	-->	giteabot (nodebot@ebi.ek5.99.10.IP) has joined #6502gen
2018-11-24 09:12:57	giteabot	[khuxkm/6502gen] Robert Miles pushed 4b4fa6a to master. (Begin work on macro support; https://tildegit.org/khuxkm/6502gen/commit/4b4fa6a)
2018-11-24 09:13:32	<--	giteabot (nodebot@ebi.ek5.99.10.IP) has quit (Connection closed)
2018-11-24 09:18:47	-->	giteabot (nodebot@ebi.ek5.99.10.IP) has joined #6502gen
2018-11-25 04:40:29	<--	khuxkm|lounge (khuxkm@sudoers.tilde.team) has quit (Changing host)
2018-11-25 04:40:29	-->	khuxkm|lounge (khuxkm@oper.tilde.chat) has joined #6502gen
2018-11-25 04:40:30	--	Mode #6502gen [+qo khuxkm|lounge khuxkm|lounge] by team.tilde.chat
2018-11-25 06:03:09	<--	giteabot (nodebot@ebi.ek5.99.10.IP) has quit (Changing host)
2018-11-25 06:03:09	-->	giteabot (nodebot@10.99.157.239) has joined #6502gen
2018-11-25 22:48:15	<--	khuxkm (khuxkm@oper.tilde.chat) has quit (Changing host)
2018-11-25 22:48:15	-->	khuxkm (khuxkm@sudoers.tilde.team) has joined #6502gen
2018-11-25 22:48:15	--	Mode #6502gen [+qo khuxkm khuxkm] by team.tilde.chat
2018-11-26 02:10:52	<--	ben (ben@oper.tilde.chat) has quit (Server shutdown)
2018-11-26 02:24:24	-->	ben (ben@oper.tilde.chat) has joined #6502gen
2018-11-26 03:14:49	<--	ben (ben@oper.tilde.chat) has quit (quit: i'll probably be back soon)
2018-11-26 03:18:04	-->	ben (ben@oper.tilde.chat) has joined #6502gen
2018-11-26 14:49:25	<--	giteabot (nodebot@10.99.157.239) has quit (Connection closed)
2018-11-26 14:49:29	-->	giteabot (nodebot@10.99.157.239) has joined #6502gen
2018-11-26 15:39:58	<--	khuxkm|lounge (khuxkm@oper.tilde.chat) has quit (Connection closed)
2018-11-26 21:50:36	-->	khuxkm|lounge (khuxkm@tilde.team) has joined #6502gen
2018-11-27 16:15:35	<--	giteabot (nodebot@10.99.157.239) has quit (Connection closed)
2018-11-27 16:17:52	-->	giteabot (nodebot@10.99.157.239) has joined #6502gen
2018-11-27 16:18:29	<--	sedbot (sedbot@localhost) has quit (Ping timeout: 121 seconds)
2018-11-27 16:19:00	<--	khuxkm|lounge (khuxkm@tilde.team) has quit (Ping timeout: 121 seconds)
2018-11-27 16:19:21	-->	khuxkm|lounge (khuxkm@tilde.team) has joined #6502gen
2018-11-27 16:20:32	-->	sedbot (sedbot@tilde.team) has joined #6502gen
2018-11-27 16:45:40	<--	ben (ben@oper.tilde.chat) has quit (team.tilde.chat gingko.tilde.chat)
2018-11-27 16:45:56	-->	ben (ben@oper.tilde.chat) has joined #6502gen
2018-11-27 19:41:06	<--	khuxkm|lounge (khuxkm@tilde.team) has quit (Changing host)
2018-11-27 19:41:06	-->	khuxkm|lounge (khuxkm@sudoers.tilde.team) has joined #6502gen
2018-11-27 19:41:07	--	Mode #6502gen [+qo khuxkm|lounge khuxkm|lounge] by ChanServ
2018-11-28 09:12:00	<--	ben (ben@oper.tilde.chat) has quit (team.tilde.chat gingko.tilde.chat)
2018-11-28 09:16:26	-->	ben (ben@oper.tilde.chat) has joined #6502gen
2018-11-30 05:11:59	--	irc: disconnected from server
2018-11-30 05:12:34	-->	fosslinux (fosslinux@bsd.tilde.team) has joined #6502gen
2018-11-30 05:12:34	--	Topic for #6502gen is "A 6502 high level assembler macro/repeat system. https://tildegit.org/khuxkm/6502gen"
2018-11-30 05:12:34	--	Topic set by khuxkm|lounge (khuxkm@oper.tilde.chat) on Sat, 17 Nov 2018 20:42:49
2018-11-30 05:12:34	--	Channel #6502gen: 6 nicks (2 ops, 0 halfops, 0 voices, 4 normals)
2018-11-30 05:13:18	--	Channel created on Sat, 17 Nov 2018 19:17:30
2018-12-01 03:33:34	<--	khuxkm|lounge (khuxkm@sudoers.tilde.team) has quit (Changing host)
2018-12-01 03:33:35	-->	khuxkm|lounge (khuxkm@oper.tilde.chat) has joined #6502gen
2018-12-01 03:33:35	--	Mode #6502gen [+qo khuxkm|lounge khuxkm|lounge] by team.tilde.chat
2018-12-01 06:29:18	<--	giteabot (nodebot@10.99.157.239) has quit (Connection closed)
2018-12-01 06:29:20	-->	giteabot (nodebot@10.99.157.239) has joined #6502gen
2018-12-01 06:36:10	<--	giteabot (nodebot@10.99.157.239) has quit (Connection closed)
2018-12-01 06:36:13	-->	giteabot (nodebot@10.99.157.239) has joined #6502gen
2018-12-01 21:23:47	<--	ben (ben@oper.tilde.chat) has left #6502gen ("ping me anyways i guess")
2018-12-03 06:10:31	<--	sedbot (sedbot@tilde.team) has quit (G-Lined: [ben] you need to stop (ID: TM21RYBH6G))
2018-12-03 06:10:31	<--	khuxkm|lounge (khuxkm@oper.tilde.chat) has quit (G-Lined: [ben] you need to stop (ID: TM21RYBH6G))
2018-12-03 06:11:16	-->	khuxkm|lounge (khuxkm@tilde.team) has joined #6502gen
2018-12-03 06:12:19	-->	sedbot (sedbot@tilde.team) has joined #6502gen
2018-12-03 10:47:17	--	irc: disconnected from server
2018-12-03 10:47:57	-->	fosslinux (fosslinux@bsd.tilde.team) has joined #6502gen
2018-12-03 10:47:57	--	Topic for #6502gen is "A 6502 high level assembler macro/repeat system. https://tildegit.org/khuxkm/6502gen"
2018-12-03 10:47:57	--	Topic set by khuxkm|lounge (khuxkm@oper.tilde.chat) on Sat, 17 Nov 2018 20:42:49
2018-12-03 10:47:57	--	Channel #6502gen: 5 nicks (1 op, 0 halfops, 0 voices, 4 normals)
2018-12-03 10:48:43	--	Channel created on Sat, 17 Nov 2018 19:17:30
2018-12-03 14:52:55	<--	khuxkm|lounge (khuxkm@tilde.team) has quit (Changing host)
2018-12-03 14:52:55	-->	khuxkm|lounge (khuxkm@oper.tilde.chat) has joined #6502gen
2018-12-03 22:45:14	--	khuxkm is now known as a
2018-12-03 22:45:20	--	a is now known as khuxkm
2018-12-04 06:12:21	--	You are now known as |
2018-12-04 06:13:48	--	You are now known as fosslinux
2018-12-05 21:44:30	<--	khuxkm|lounge (khuxkm@oper.tilde.chat) has quit (Changing host)
2018-12-05 21:44:30	-->	khuxkm|lounge (khuxkm@sudoers.tilde.team) has joined #6502gen
2018-12-05 21:44:30	--	Mode #6502gen [+qo khuxkm|lounge khuxkm|lounge] by ChanServ
2018-12-14 05:56:22	--	You are now known as ^
2018-12-14 06:11:12	--	You are now known as fosslinux
2018-12-19 23:30:56	--	irc: disconnected from server
